angular.module("ngHTMLed",["ng"]).provider("$HTMLed",["$httpProvider",function(a){var b,c={json:{},config:{}},d=["$q","$templateCache",function(a,d){return{response:function(d){return 0===Object.getOwnPropertyNames(c.json).length?a(function(a,e){b.then(function(b){c.json=b.data,a(d)})["catch"](function(a){console.error("ngHTMLed Reports: \n	Code:"+a.status+"\n	Message: Error with Properties file "+a.statusText),e(d)})}):d}}}];a.interceptors.push(d),this.setup=function(a){var d=angular.injector(["ng"]).get("$http");if(!a.langBundle)return void console.error("ngHTMLed: Please specify your bundle folder.");if(a.autoDetect)c.config={properties:a.langBundle.toString()+"/"+(window.navigator.language||navigator.language||navigator.userLanguage).toString()+".properties",language:(window.navigator.language||navigator.language||navigator.userLanguage).toString()};else{if(!a.langPref)return void console.error("ngHTMLed: Please specify langPref in your configuration object.");c.config={properties:a.langBundle.toString()+"/"+a.langPref+".properties",language:a.langPref}}b=d.get(c.config.properties,{responseType:"json"})},this.$get=function(){return{configuration:function(){return c.config},bundle:function(a){return a?c.json[a]:c.json}}}}]).directive("strings",["$compile","$HTMLed",function(a,b){return{retrict:"E",link:function(c,d,e){function f(a){var b=a.match(new RegExp(/%txt{([^}]+)}/g));return b.forEach(function(b,c,d){var e=(b.match("{'(.*?)'}")||b.match('{"(.*?)"}')).pop(),f=new RegExp(b,"gi");h[e]?a=a.replace(f,h[e]):console.error(e+" is missing from your properties file. Will be resolved as undefined!")}),a}var g=d.parent(),h=b.bundle();g.children().remove(),h[e.textId]?a(g.text(h[e.textId]))(c):e.hasOwnProperty("format")?a(g.text(f(d.text())))(c):d.text()?a(g.text(d.text()))(c):console.error("Please check the text-id mapping. No matching found in properties for: "+e.textId)}}}]);